!function(){"use strict";function t(t){return function(n){return-1!==(" "+n.attr("class")+" ").indexOf(t)}}function n(t,n,e){return function(r){var a=arguments,i=a[a.length-2],o=0<i?n.charAt(i-1):"";if('"'===o)return r;if(">"===o){var c=n.lastIndexOf("<",i);if(-1!==c&&-1!==n.substring(c,i).indexOf('contenteditable="false"'))return r}return'<span class="'+e+'" data-mce-content="'+t.dom.encode(a[0])+'">'+t.dom.encode("string"==typeof a[1]?a[1]:a[0])+"</span>"}}var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(t){return t.getParam("noneditable_noneditable_class","mceNonEditable")},i=function(t){return t.getParam("noneditable_editable_class","mceEditable")},o=function(t){var n=t.getParam("noneditable_regexp",[]);return n&&n.constructor===RegExp?[n]:n},c=function(e){var c,l,u="contenteditable";c=" "+r.trim(i(e))+" ",l=" "+r.trim(a(e))+" ";var f=t(c),s=t(l),d=o(e);e.on("PreInit",(function(){0<d.length&&e.on("BeforeSetContent",(function(t){!function(t,e,r){var i=e.length,o=r.content;if("raw"!==r.format){for(;i--;)o=o.replace(e[i],n(t,o,a(t)));r.content=o}}(e,d,t)})),e.parser.addAttributeFilter("class",(function(t){for(var n,e=t.length;e--;)n=t[e],f(n)?n.attr(u,"true"):s(n)&&n.attr(u,"false")})),e.serializer.addAttributeFilter(u,(function(t){for(var n,e=t.length;e--;)n=t[e],(f(n)||s(n))&&(0<d.length&&n.attr("data-mce-content")?(n.name="#text",n.type=3,n.raw=!0,n.value=n.attr("data-mce-content")):n.attr(u,null))}))}))};!function(){e.add("noneditable",(function(t){c(t)}))}()}();