!function(e){"use strict";function n(){}function t(e){return function(){return e}}function r(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return!e.apply(null,n)}}function o(){return c}var i,u=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=t(!1),s=t(!0),c=(i={fold:function(e,n){return e()},is:a,isSome:a,isNone:s,getOr:l,getOrThunk:d,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:t(null),getOrUndefined:t(void 0),or:l,orThunk:d,map:o,each:n,bind:o,exists:a,forall:s,filter:o,equals:f,equals_:f,toArray:function(){return[]},toString:t("none()")},Object.freeze&&Object.freeze(i),i);function f(e){return e.isNone()}function d(e){return e()}function l(e){return e}function m(e){return function(n){return function(e){if(null===e)return"null";var n=typeof e;return"object"==n&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":n}(n)===e}}function g(e,n){for(var t=e.length,r=new Array(t),o=0;o<t;o++){var i=e[o];r[o]=n(i,o)}return r}function p(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)}function v(e,n){for(var t=[],r=0,o=e.length;r<o;r++){var i=e[r];n(i,r)&&t.push(i)}return t}function h(e,n,t){return p(e,(function(e){t=n(t,e)})),t}function N(e,n){for(var t=0,r=e.length;t<r;t++){var o=e[t];if(n(o,t))return He.some(o)}return He.none()}function y(e,n){return function(e){for(var n=[],t=0,r=e.length;t<r;++t){if(!qe(e[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+e);ze.apply(n,e[t])}return n}(g(e,n))}function S(e){return 0===e.length?He.none():He.some(e[0])}function O(e){return 0===e.length?He.none():He.some(e[e.length-1])}function C(e,n,t){return 0!=(e.compareDocumentPosition(n)&t)}function b(e,n){var t=function(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.test(n))return r}}(e,n);if(!t)return{major:0,minor:0};function r(e){return Number(n.replace(t,"$"+e))}return Ze(r(1),r(2))}function L(e,n){return function(){return n===e}}function T(e,n){return function(){return n===e}}function D(e,n){var t=String(n).toLowerCase();return N(e,(function(e){return e.search(t)}))}function E(e,n){return-1!==e.indexOf(n)}function w(e){return function(n){return E(n,e)}}function k(e,n){return e.dom()===n.dom()}function A(e,n,t){return e.isSome()&&n.isSome()?He.some(t(e.getOrDie(),n.getOrDie())):He.none()}function x(e){return He.from(e.dom().parentNode).map(Ln.fromDom)}function R(e){return g(e.dom().childNodes,Ln.fromDom)}function I(e,n){var t=e.dom().childNodes;return He.from(t[n]).map(Ln.fromDom)}function B(e){return I(e,0)}function P(e){return I(e,e.dom().childNodes.length-1)}function _(e,n){x(e).each((function(t){t.dom().insertBefore(n.dom(),e.dom())}))}function M(e,n){e.dom().appendChild(n.dom())}function U(e,n){p(n,(function(n){M(e,n)}))}function F(e){var n=e.dom();null!==n.parentNode&&n.parentNode.removeChild(n)}function j(e,n,t){return e.fire("ListMutation",{action:n,element:t})}function H(e,n){return function(e,n){for(var t=void 0!==n&&null!==n?n:In,r=0;r<e.length&&void 0!==t&&null!==t;++r)t=t[e[r]];return t}(e.split("."),n)}function $(e){return e&&"BR"===e.nodeName}function q(e){var n=e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",Gn(e,n))}function W(e){var n=e.selection.getSelectedBlocks();return Mn.grep(function(e,n){var t=Mn.map(n,(function(n){var t=e.dom.getParent(n,"li,dd,dt",Gn(e,n));return t||n}));return _n.unique(t)}(e,n),(function(e){return $n(e)}))}function V(e,n){var t=e.dom.getParents(n,"ol,ul",Gn(e,n));return O(t)}function K(e,n){var t,r,o,i=e.dom,u=e.schema.getBlockElements(),a=i.createFragment(),s=nt(e);if(s&&((r=i.create(s)).tagName===s.toUpperCase()&&i.setAttribs(r,tt(e)),Xn(n.firstChild,u)||a.appendChild(r)),n)for(;t=n.firstChild;){var c=t.nodeName;o||"SPAN"===c&&"bookmark"===t.getAttribute("data-mce-type")||(o=!0),Xn(t,u)?(a.appendChild(t),r=null):s?(r||(r=i.create(s),a.appendChild(r)),r.appendChild(t)):a.appendChild(t)}return s?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):a.appendChild(i.create("br")),a}function X(e){return e.dom().nodeName.toLowerCase()}function z(n,t){var r=n.dom();!function(e,n){for(var t=Rn(e),r=0,o=t.length;r<o;r++){var i=t[r];n(e[i],i)}}(t,(function(n,t){!function(n,t,r){if(!($e(r)||We(r)||Ke(r)))throw e.console.error("Invalid call to Attr.set. Key ",t,":: Value ",r,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(t,r+"")}(r,t,n)}))}function Q(e){return h(e.dom().attributes,(function(e,n){return e[n.name]=n.value,e}),{})}function Y(n,t,r){if(!$e(r))throw e.console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",n),new Error("CSS value must be a string: "+r);!function(e){return void 0!==e.style&&Ve(e.style.getPropertyValue)}(n)||n.style.setProperty(t,r)}function G(e){return function(e,n){return Ln.fromDom(e.dom().cloneNode(n))}(e,!0)}function J(e,n){var t=function(e,n){var t=Ln.fromTag(n),r=Q(e);return z(t,r),t}(e,n);_(e,t);var r=R(e);return U(t,r),F(e),t}function Z(e,n){M(e.item,n.list)}function ee(e,n,t){var r=n.slice(0,t.depth);return O(r).each((function(n){!function(e,n){M(e.list,n),e.item=n}(n,function(e,n,t){var r=Ln.fromTag("li",e);return z(r,n),U(r,t),r}(e,t.itemAttributes,t.content)),function(e,n){X(e.list)!==n.listType&&(e.list=J(e.list,n.listType)),z(e.list,n.listAttributes)}(n,t)})),r}function ne(e,n,t){var r=function(e,n,t){for(var r,o,i,u=[],a=0;a<t;a++)u.push((r=e,o=n.listType,i={list:Ln.fromTag(o,r),item:Ln.fromTag("li",r)},M(i.list,i.item),i));return u}(e,t,t.depth-n.length);return function(e){for(var n=1;n<e.length;n++)Z(e[n-1],e[n])}(r),function(e,n){for(var t=0;t<e.length-1;t++)r=e[t].item,o="list-style-type",i="none",u=r.dom(),Y(u,o,i);var r,o,i,u;O(e).each((function(e){z(e.list,n.listAttributes),z(e.item,n.itemAttributes),U(e.item,n.content)}))}(r,t),function(e,n){A(O(e),S(n),Z)}(n,r),n.concat(r)}function te(e){return wn(e,"OL,UL")}function re(e){return B(e).map(te).getOr(!1)}function oe(e){return 0<e.depth}function ie(e){return e.isSelected}function ue(e){var n=R(e),t=function(e){return P(e).map(te).getOr(!1)}(e)?n.slice(0,-1):n;return g(t,G)}function ae(e){p(e,(function(n,t){(function(e,n){for(var t=e[n].depth,r=n-1;0<=r;r--){if(e[r].depth===t)return He.some(e[r]);if(e[r].depth<t)break}return He.none()})(e,t).each((function(e){!function(e,n){e.listType=n.listType,e.listAttributes=Ye({},n.listAttributes)}(n,e)}))}))}function se(e,n,t,r){return B(r).filter(te).fold((function(){n.each((function(e){k(e.start,r)&&t.set(!0)}));var o=function(e,n,t){return x(e).filter(rt).map((function(r){return{depth:n,isSelected:t,content:ue(e),itemAttributes:Q(e),listAttributes:Q(r),listType:X(r)}}))}(r,e,t.get());n.each((function(e){k(e.end,r)&&t.set(!1)}));var i=P(r).filter(te).map((function(r){return ot(e,n,t,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return ot(e,n,t,r)}))}function ce(n,t){return g(t,(function(t){var r=function(n,t){var r=(t||e.document).createDocumentFragment();return p(n,(function(e){r.appendChild(e.dom())})),Ln.fromDom(r)}(t.content);return Ln.fromDom(K(n,r.dom()))}))}function fe(e,n){return ae(n),function(e,n){var t=h(n,(function(n,t){return t.depth>n.length?ne(e,n,t):ee(e,n,t)}),[]);return S(t).map((function(e){return e.list}))}(e.contentDocument,n).toArray()}function de(e){var n=g(Zn.getSelectedListItems(e),Ln.fromDom);return A(N(n,r(re)),N(function(e){var n=Xe.call(e,0);return n.reverse(),n}(n),r(re)),(function(e,n){return{start:e,end:n}}))}function le(e,n,t){var r=function(e,n){var t=Ge(!1);return g(e,(function(e){return{sourceList:e,entries:ot(0,n,t,e)}}))}(n,de(e));p(r,(function(n){!function(e,n){p(v(e,ie),(function(e){return function(e,n){switch(e){case"Indent":n.depth++;break;case"Outdent":n.depth--;break;case"Flatten":n.depth=0}}(n,e)}))}(n.entries,t);var r=function(e,n){return y(function(e,n){if(0===e.length)return[];for(var t=n(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var a=e[i],s=n(a);s!==t&&(r.push(o),o=[]),t=s,o.push(a)}return 0!==o.length&&r.push(o),r}(n,oe),(function(n){return S(n).map(oe).getOr(!1)?fe(e,n):ce(e,n)}))}(e,n.entries);p(r,(function(n){j(e,"Indent"===t?"IndentList":"OutdentList",n.dom())})),function(e,n){p(n,(function(n){_(e,n)}))}(n.sourceList,r),F(n.sourceList)}))}function me(e){wn(e,"dt")&&J(e,"dd")}function ge(e,n,t){p(t,"Indent"===n?me:function(n){return function(e,n){wn(n,"dd")?J(n,"dt"):wn(n,"dt")&&x(n).each((function(t){return at(e,t.dom(),n.dom())}))}(e,n)})}function pe(e,n){if(Un(e))return{container:e,offset:n};var t=kn.getNode(e,n);return Un(t)?{container:t,offset:n>=e.childNodes.length?t.data.length:0}:t.previousSibling&&Un(t.previousSibling)?{container:t.previousSibling,offset:t.previousSibling.data.length}:t.nextSibling&&Un(t.nextSibling)?{container:t.nextSibling,offset:0}:{container:e,offset:n}}function ve(e,n){var t=g(Zn.getSelectedListRoots(e),Ln.fromDom),r=g(Zn.getSelectedDlItems(e),Ln.fromDom),o=!1;if(t.length||r.length){var i=e.selection.getBookmark();le(e,t,n),ge(e,n,r),e.selection.moveToBookmark(i),e.selection.setRng(st(e.selection.getRng())),e.nodeChanged(),o=!0}return o}function he(e){return ve(e,"Indent")}function Ne(e){return ve(e,"Outdent")}function ye(e){return ve(e,"Flatten")}function Se(e){return/\btox\-/.test(e.className)}function Oe(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}}function Ce(e,n){Mn.each(n,(function(n,t){e.setAttribute(t,n)}))}function be(e,n,t){!function(e,n,t){var r=t["list-style-type"]?t["list-style-type"]:null;e.setStyle(n,"list-style-type",r)}(e,n,t),function(e,n,t){Ce(n,t["list-attributes"]),Mn.each(e.select("li",n),(function(e){Ce(e,t["list-item-attributes"])}))}(e,n,t)}function Le(e,n,t,r){var o,i;for(o=n[t?"startContainer":"endContainer"],i=n[t?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!t&&Wn(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(Kn(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o}function Te(e,n,t){void 0===t&&(t={});var r,o=e.selection.getRng(!0),i="LI",u=Zn.getClosestListRootElm(e,e.selection.getStart(!0)),a=e.dom;"false"!==a.getContentEditable(e.selection.getNode())&&("DL"===(n=n.toUpperCase())&&(i="DT"),r=dt(o),Mn.each(function(e,n,t){for(var r,o=[],i=e.dom,u=Le(e,n,!0,t),a=Le(e,n,!1,t),s=[],c=u;c&&(s.push(c),c!==a);c=c.nextSibling);return Mn.each(s,(function(n){if(Kn(e,n))return o.push(n),void(r=null);if(i.isBlock(n)||Wn(n))return Wn(n)&&i.remove(n),void(r=null);var u=n.nextSibling;ct.isBookmarkNode(n)&&(Kn(e,u)||!u&&n.parentNode===t)?r=null:(r||(r=i.create("p"),n.parentNode.insertBefore(r,n),o.push(r)),r.appendChild(n))})),o}(e,o,u),(function(r){var o,u;(u=r.previousSibling)&&Fn(u)&&u.nodeName===n&&function(e,n,t){var r=e.getStyle(n,"list-style-type"),o=t?t["list-style-type"]:"";return r===(null===o?"":o)}(a,u,t)?(o=u,r=a.rename(r,i),u.appendChild(r)):(o=a.create(n),r.parentNode.insertBefore(o,r),o.appendChild(r),r=a.rename(r,i)),function(e,n,t){Mn.each(t,(function(t){var r;return e.setStyle(n,((r={})[t]="",r))}))}(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),be(a,o,t),mt(e.dom,o)})),e.selection.setRng(lt(r)))}function De(e,n,t){return function(e,n){return e&&n&&Fn(e)&&e.nodeName===n.nodeName}(n,t)&&function(e,n,t){return e.getStyle(n,"list-style-type",!0)===e.getStyle(t,"list-style-type",!0)}(e,n,t)&&function(e,n){return e.className===n.className}(n,t)}function Ee(e,n,t,r,o){if(n.nodeName!==r||gt(o)){var i=dt(e.selection.getRng(!0));Mn.each([n].concat(t),(function(n){!function(e,n,t,r){if(n.nodeName!==t){var o=e.dom.rename(n,t);be(e.dom,o,r),j(e,Oe(t),o)}else be(e.dom,n,r),j(e,Oe(t),n)}(e,n,r,o)})),e.selection.setRng(lt(i))}else ye(e)}function we(e,n){var t,r=n.parentNode;"LI"===r.nodeName&&r.firstChild===n&&((t=r.previousSibling)&&"LI"===t.nodeName?(t.appendChild(n),Qn(e,r)&&vt.remove(r)):vt.setStyle(r,"listStyleType","none")),Fn(r)&&(t=r.previousSibling)&&"LI"===t.nodeName&&t.appendChild(n)}function ke(e,n,t,r){var o=n.startContainer,i=n.startOffset;if(Un(o)&&(t?i<o.data.length:0<i))return o;var u=e.schema.getNonEmptyElements();1===o.nodeType&&(o=kn.getNode(o,i));var a=new An(o,r);for(t&&zn(e.dom,o)&&a.next();o=a[t?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(u[o.nodeName])return o;if(Un(o)&&0<o.data.length)return o}}function Ae(e,n){var t=n.childNodes;return 1===t.length&&!Fn(t[0])&&e.isBlock(t[0])}function xe(e,n,t){var r,o;if(o=Ae(e,t)?t.firstChild:t,function(e,n){Ae(e,n)&&e.remove(n.firstChild,!0)}(e,n),!Qn(e,n,!0))for(;r=n.firstChild;)o.appendChild(r)}function Re(e,n,t){var r,o,i=n.parentNode;if(Yn(e,n)&&Yn(e,t)){Fn(t.lastChild)&&(o=t.lastChild),i===t.lastChild&&Wn(i.previousSibling)&&e.remove(i.previousSibling),(r=t.lastChild)&&Wn(r)&&n.hasChildNodes()&&e.remove(r),Qn(e,t,!0)&&e.$(t).empty(),xe(e,n,t),o&&t.appendChild(o);var u=En(Ln.fromDom(t),Ln.fromDom(n))?e.getParents(n,Fn,t):[];e.remove(n),p(u,(function(n){Qn(e,n)&&n!==e.getRoot()&&e.remove(n)}))}}function Ie(e,n,t,r){var o=e.dom;if(o.isEmpty(r))!function(e,n,t){e.dom.$(t).empty(),Re(e.dom,n,t),e.selection.setCursorLocation(t)}(e,t,r);else{var i=dt(n);Re(o,t,r),e.selection.setRng(lt(i))}}function Be(e,n){var t=e.dom,r=e.selection,o=r.getStart(),i=Zn.getClosestListRootElm(e,o),u=t.getParent(r.getStart(),"LI",i);if(u){var a=u.parentNode;if(a===e.getBody()&&Qn(t,a))return!0;var s=st(r.getRng()),c=t.getParent(ke(e,s,n,i),"LI",i);if(c&&c!==u)return e.undoManager.transact((function(){n?Ie(e,s,c,u):Vn(u)?Ne(e):function(e,n,t,r){var o=dt(n);Re(e.dom,t,r);var i=lt(o);e.selection.setRng(i)}(e,s,u,c)})),!0;if(!c&&!n&&0===s.startOffset&&0===s.endOffset)return e.undoManager.transact((function(){ye(e)})),!0}return!1}function Pe(e,n){return Be(e,n)||function(e,n){var t=e.dom,r=e.selection.getStart(),o=Zn.getClosestListRootElm(e,r),i=t.getParent(r,t.isBlock,o);if(i&&t.isEmpty(i)){var u=st(e.selection.getRng()),a=t.getParent(ke(e,u,n,o),"LI",o);if(a)return e.undoManager.transact((function(){!function(e,n,t){var r=e.getParent(n.parentNode,e.isBlock,t);e.remove(n),r&&e.isEmpty(r)&&e.remove(r)}(t,i,o),pt.mergeWithAdjacentLists(t,a.parentNode),e.selection.select(a,!0),e.selection.collapse(n)})),!0}return!1}(e,n)}function _e(e,n){return e.selection.isCollapsed()?Pe(e,n):function(e){var n=e.selection.getStart(),t=Zn.getClosestListRootElm(e,n);return!!(e.dom.getParent(n,"LI,DT,DD",t)||0<Zn.getSelectedListItems(e).length)&&(e.undoManager.transact((function(){e.execCommand("Delete"),ht(e.dom,e.getBody())})),!0)}(e)}function Me(e,n){return function(){var t=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return t&&t.nodeName===n}}function Ue(e,n){return function(t){function r(e){var r=function(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t;return-1}(e.parents,qn),o=-1!==r?e.parents.slice(0,r):e.parents,i=Mn.grep(o,Fn);t.setActive(0<i.length&&i[0].nodeName===n&&!Se(i[0]))}return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}}var Fe,je=function(e){function n(){return i}function r(n){return n(e)}var o=t(e),i={fold:function(n,t){return t(e)},is:function(n){return e===n},isSome:s,isNone:a,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:n,orThunk:n,map:function(n){return je(n(e))},each:function(n){n(e)},bind:r,exists:r,forall:r,filter:function(n){return n(e)?i:c},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(n){return n.is(e)},equals_:function(n,t){return n.fold(a,(function(n){return t(e,n)}))}};return i},He={some:je,none:o,from:function(e){return null===e||void 0===e?c:je(e)}},$e=m("string"),qe=m("array"),We=m("boolean"),Ve=m("function"),Ke=m("number"),Xe=Array.prototype.slice,ze=Array.prototype.push,Qe=(Ve(Array.from)&&Array.from,function(n,t){return C(n,t,e.Node.DOCUMENT_POSITION_CONTAINED_BY)}),Ye=function(){return(Ye=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Ge=function(e){function n(){return t}var t=e;return{get:n,set:function(e){t=e},clone:function(){return Ge(n())}}},Je=function(){return Ze(0,0)},Ze=function(e,n){return{major:e,minor:n}},en={nu:Ze,detect:function(e,n){var t=String(n).toLowerCase();return 0===e.length?Je():b(e,t)},unknown:Je},nn="Edge",tn="Chrome",rn="Opera",on="Firefox",un="Safari",an=function(e){var n=e.current;return{current:n,version:e.version,isEdge:L(nn,n),isChrome:L(tn,n),isIE:L("IE",n),isOpera:L(rn,n),isFirefox:L(on,n),isSafari:L(un,n)}},sn={unknown:function(){return an({current:void 0,version:en.unknown()})},nu:an,edge:t(nn),chrome:t(tn),ie:t("IE"),opera:t(rn),firefox:t(on),safari:t(un)},cn="Windows",fn="Android",dn="Solaris",ln="FreeBSD",mn="ChromeOS",gn=function(e){var n=e.current;return{current:n,version:e.version,isWindows:T(cn,n),isiOS:T("iOS",n),isAndroid:T(fn,n),isOSX:T("OSX",n),isLinux:T("Linux",n),isSolaris:T(dn,n),isFreeBSD:T(ln,n),isChromeOS:T(mn,n)}},pn={unknown:function(){return gn({current:void 0,version:en.unknown()})},nu:gn,windows:t(cn),ios:t("iOS"),android:t(fn),linux:t("Linux"),osx:t("OSX"),solaris:t(dn),freebsd:t(ln),chromeos:t(mn)},vn=function(e,n){return D(e,n).map((function(e){var t=en.detect(e.versionRegexes,n);return{current:e.name,version:t}}))},hn=function(e,n){return D(e,n).map((function(e){var t=en.detect(e.versionRegexes,n);return{current:e.name,version:t}}))},Nn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return E(e,"edge/")&&E(e,"chrome")&&E(e,"safari")&&E(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Nn],search:function(e){return E(e,"chrome")&&!E(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return E(e,"msie")||E(e,"trident")}},{name:"Opera",versionRegexes:[Nn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:w("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:w("firefox")},{name:"Safari",versionRegexes:[Nn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(E(e,"safari")||E(e,"mobile/"))&&E(e,"applewebkit")}}],Sn=[{name:"Windows",search:w("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return E(e,"iphone")||E(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:w("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:w("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:w("linux"),versionRegexes:[]},{name:"Solaris",search:w("sunos"),versionRegexes:[]},{name:"FreeBSD",search:w("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:w("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],On={browsers:t(yn),oses:t(Sn)},Cn=Ge(function(e,n){var r=On.browsers(),o=On.oses(),i=vn(r,e).fold(sn.unknown,sn.nu),u=hn(o,e).fold(pn.unknown,pn.nu);return{browser:i,os:u,deviceType:function(e,n,r,o){var i=e.isiOS()&&!0===/ipad/i.test(r),u=e.isiOS()&&!i,a=e.isiOS()||e.isAndroid(),s=a||o("(pointer:coarse)"),c=i||!u&&a&&o("(min-device-width:768px)"),f=u||a&&!c,d=n.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),l=!f&&!c&&!d;return{isiPad:t(i),isiPhone:t(u),isTablet:t(c),isPhone:t(f),isTouch:t(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:t(d),isDesktop:t(l)}}(u,i,e,n)}}(e.navigator.userAgent,(function(n){return e.window.matchMedia(n).matches}))),bn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:t(e)}},Ln={fromHtml:function(n,t){var r=(t||e.document).createElement("div");if(r.innerHTML=n,!r.hasChildNodes()||1<r.childNodes.length)throw e.console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return bn(r.childNodes[0])},fromTag:function(n,t){var r=(t||e.document).createElement(n);return bn(r)},fromText:function(n,t){var r=(t||e.document).createTextNode(n);return bn(r)},fromDom:bn,fromPoint:function(e,n,t){var r=e.dom();return He.from(r.elementFromPoint(n,t)).map(bn)}},Tn=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Dn=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,Tn),En=Cn.get().browser.isIE()?function(e,n){return Qe(e.dom(),n.dom())}:function(e,n){var t=e.dom(),r=n.dom();return t!==r&&t.contains(r)},wn=function(e,n){var t=e.dom();if(t.nodeType!==Dn)return!1;var r=t;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},kn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),An=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),xn=tinymce.util.Tools.resolve("tinymce.util.VK"),Rn=Object.keys,In=(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}("element","offset"),"undefined"!=typeof e.window?e.window:Function("return this;")()),Bn=function(e,n){var t=function(e,n){return H(e,n)}(e,n);if(void 0===t||null===t)throw new Error(e+" not available on this browser");return t},Pn=function(e){return function(e){return Bn("HTMLElement",e)}(H("ownerDocument.defaultView",e)).prototype.isPrototypeOf(e)},_n=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Mn=tinymce.util.Tools.resolve("tinymce.util.Tools"),Un=function(e){return e&&3===e.nodeType},Fn=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},jn=function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},Hn=function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},$n=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},qn=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},Wn=$,Vn=function(e){return e.parentNode.firstChild===e},Kn=function(e,n){return n&&!!e.schema.getTextBlockElements()[n.nodeName]},Xn=function(e,n){return e&&e.nodeName in n},zn=function(e,n){return!!$(n)&&!(!e.isBlock(n.nextSibling)||$(n.previousSibling))},Qn=function(e,n,t){var r=e.isEmpty(n);return!(t&&0<e.select("span[data-mce-type=bookmark]",n).length)&&r},Yn=function(e,n){return e.isChildOf(n,e.getRoot())},Gn=function(e,n){var t=e.dom.getParents(n,"TD,TH");return 0<t.length?t[0]:e.getBody()},Jn=function(e,n){var t=g(n,(function(n){return V(e,n).getOr(n)}));return _n.unique(t)},Zn={isList:function(e){var n=q(e);return Pn(n)},getParentList:q,getSelectedSubLists:function(e){var n=q(e),t=e.selection.getSelectedBlocks();return function(e,n){return e&&1===n.length&&n[0]===e}(n,t)?function(e){return Mn.grep(e.querySelectorAll("ol,ul,dl"),(function(e){return Fn(e)}))}(n):Mn.grep(t,(function(e){return Fn(e)&&n!==e}))},getSelectedListItems:W,getClosestListRootElm:Gn,getSelectedDlItems:function(e){return v(W(e),Hn)},getSelectedListRoots:function(e){var n=function(e){var n=V(e,e.selection.getStart()),t=v(e.selection.getSelectedBlocks(),jn);return n.toArray().concat(t)}(e);return Jn(e,n)}},et=function(e){return e.getParam("lists_indent_on_tab",!0)},nt=function(e){var n=e.getParam("forced_root_block","p");return!1===n?"":!0===n?"p":n},tt=function(e){return e.getParam("forced_root_block_attrs",{})},rt=(Fe=Tn,function(e){return function(e){return e.dom().nodeType}(e)===Fe}),ot=function(e,n,t,r){return y(R(r),(function(r){return(te(r)?ot:se)(e+1,n,t,r)}))},it=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ut=it.DOM,at=function(e,n,t){var r,o,i,u,a,s;for(i=ut.select('span[data-mce-type="bookmark"]',n),a=K(e,t),(r=ut.createRng()).setStartAfter(t),r.setEndAfter(n),u=(o=r.extractContents()).firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){ut.remove(u);break}e.dom.isEmpty(o)||ut.insertAfter(o,n),ut.insertAfter(a,n),Qn(e.dom,t.parentNode)&&(s=t.parentNode,Mn.each(i,(function(e){s.parentNode.insertBefore(e,t.parentNode)})),ut.remove(s)),ut.remove(t),Qn(e.dom,n)&&ut.remove(n)},st=function(e){var n=e.cloneRange(),t=pe(e.startContainer,e.startOffset);n.setStart(t.container,t.offset);var r=pe(e.endContainer,e.endOffset);return n.setEnd(r.container,r.offset),n},ct=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),ft=it.DOM,dt=function(e){function n(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=ft.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):ft.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i}var t={};return n(!0),e.collapsed||n(),t},lt=function(e){function n(n){var t,r,o;t=o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],t&&(1===t.nodeType&&(r=function(e){for(var n=e.parentNode.firstChild,t=0;n;){if(n===e)return t;1===n.nodeType&&"bookmark"===n.getAttribute("data-mce-type")||t++,n=n.nextSibling}return-1}(t),t=t.parentNode,ft.remove(o),!t.hasChildNodes()&&ft.isBlock(t)&&t.appendChild(ft.create("br"))),e[n?"startContainer":"endContainer"]=t,e[n?"startOffset":"endOffset"]=r)}n(!0),n();var t=ft.createRng();return t.setStart(e.startContainer,e.startOffset),e.endContainer&&t.setEnd(e.endContainer,e.endOffset),st(t)},mt=function(e,n){var t,r;if(t=n.nextSibling,De(e,n,t)){for(;r=t.firstChild;)n.appendChild(r);e.remove(t)}if(t=n.previousSibling,De(e,n,t)){for(;r=t.lastChild;)n.insertBefore(r,n.firstChild);e.remove(t)}},gt=function(e){return"list-style-type"in e},pt={toggleList:function(e,n,t){var r=Zn.getParentList(e),o=Zn.getSelectedSubLists(e);t=t||{},r&&0<o.length?Ee(e,r,o,n,t):function(e,n,t,r){if(n!==e.getBody())if(n)if(n.nodeName!==t||gt(r)||Se(n)){var o=dt(e.selection.getRng(!0));be(e.dom,n,r);var i=e.dom.rename(n,t);mt(e.dom,i),e.selection.setRng(lt(o)),j(e,Oe(t),i)}else ye(e);else Te(e,t,r),j(e,Oe(t),n)}(e,r,n,t)},mergeWithAdjacentLists:mt},vt=it.DOM,ht=function(e,n){Mn.each(Mn.grep(e.select("ol,ul",n)),(function(n){we(e,n)}))},Nt=function(e){e.on("keydown",(function(n){n.keyCode===xn.BACKSPACE?_e(e,!1)&&n.preventDefault():n.keyCode===xn.DELETE&&_e(e,!0)&&n.preventDefault()}))},yt=_e,St=function(e){return{backspaceDelete:function(n){yt(e,n)}}},Ot=function(e){e.on("BeforeExecCommand",(function(n){var t=n.command.toLowerCase();"indent"===t?he(e):"outdent"===t&&Ne(e)})),e.addCommand("InsertUnorderedList",(function(n,t){pt.toggleList(e,"UL",t)})),e.addCommand("InsertOrderedList",(function(n,t){pt.toggleList(e,"OL",t)})),e.addCommand("InsertDefinitionList",(function(n,t){pt.toggleList(e,"DL",t)})),e.addCommand("RemoveList",(function(){ye(e)})),e.addQueryStateHandler("InsertUnorderedList",Me(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Me(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Me(e,"DL"))},Ct=function(e){et(e)&&function(e){e.on("keydown",(function(n){n.keyCode!==xn.TAB||xn.metaKeyPressed(n)||e.undoManager.transact((function(){(n.shiftKey?Ne(e):he(e))&&n.preventDefault()}))}))}(e),Nt(e)},bt=function(e){function n(n){return function(){return e.execCommand(n)}}var t,r,o;r="advlist",o=(t=e).settings.plugins?t.settings.plugins:"",-1===Mn.inArray(o.split(/[ ,]/),r)&&(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:n("InsertOrderedList"),onSetup:Ue(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:n("InsertUnorderedList"),onSetup:Ue(e,"UL")}))};!function(){u.add("lists",(function(e){return Ct(e),bt(e),Ot(e),St(e)}))}()}(window);